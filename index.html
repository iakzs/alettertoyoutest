<!DOCTYPE html>
<html>
<head>
  <title>Customize ALTY</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      text-align: center;
      display: none;
    }
    .active {
      display: block;
    }
  </style>
</head>
<body>
  <h1>Customize alettertoyou</h1>
  <div id="title-container" class="container active">
    <h2>Title:</h2>
    <input type="text" id="title-input" name="title"><br><br>
    <button onclick="showNext()">Next</button>
  </div>
  <div id="text-container" class="container">
    <h2>Text:</h2>
    <input type="text" id="text-input" name="text"><br><br>
    <button onclick="showNext()">Next</button>
  </div>
  <div id="emoji-container" class="container">
    <h2>Emoji:</h2>
    <input type="text" id="emoji-input" name="emoji"><br><br>
    <button onclick="showNext()">Next</button>
  </div>
  <div id="background-container" class="container">
    <h2>Background:</h2>
    <input type="checkbox" id="background-input" name="background"><br><br>
    <button onclick="showNext()">Next</button>
  </div>
  <div id="background-colors-container" class="container">
    <h2>Background Colors:</h2>
    <label for="background1-color-input">Color 1:</label>
    <input type="color" id="background1-color-input" name="background1-color"><br><br>
    <label for="background2-color-input">Color 2:</label>
    <input type="color" id="background2-color-input" name="background2-color"><br><br>
    <button onclick="showNext()">Next</button>
  </div>
  <div id="font-container" class="container">
    <h2>Font:</h2>
    <select id="font-input" name="font">
      <option value="Delicious Handrawn">Delicious Handrawn</option>
      <option value="Roboto">Roboto</option>
      <option value="Open Sans">Open Sans</option>
    </select><br><br>
    <button onclick="showNext()">Next</button>
  </div>
  <div id="preview-container" class="container">
    <h2>Preview:</h2>
    <div id="live-preview">
      <h1>I like Github yay</h1>
      <p>Example text..</p>
    </div>
    <button onclick="submitForm()">Done</button>
  </div>

  <script>
    let currentStep = 1;

    function showNext() {
      document.getElementById(`step-${currentStep}-container`).classList.remove('active');
      currentStep++;
      document.getElementById(`step-${currentStep}-container`).classList.add('active');
    }

    function submitForm() {
      document.getElementById('customize-form').submit();
    }

      function updatePreview() {
    const text = document.querySelector('#text-input').value;
    const emoji = document.querySelector('#emoji-input').value;
    const color = document.querySelector('#color-input').value;
    const background = document.querySelector('#background-input').value;
    const background2 = document.querySelector('#background2-input').value;
    const font = document.querySelector('#font-input').value;
    
    const previewContent = document.querySelector('#preview-content');
    const previewText = document.createElement('h1');
    previewText.textContent = text + ' ' + emoji;
    previewText.style.color = color;
    previewText.style.fontFamily = font;
    
    if (background2) {
      previewContent.style.background = `linear-gradient(to right, ${background}, ${background2})`;
    } else {
      previewContent.style.backgroundColor = background;
    }
    
    previewContent.innerHTML = '';
    previewContent.appendChild(previewText);
  }

  const formInputs = document.querySelectorAll('input, select');
  formInputs.forEach(input => {
    input.addEventListener('change', updatePreview);
  });

  updatePreview();
    
 document.querySelector('#rainbow-input').addEventListener('change', (event) => {
  const rainbowChecked = event.target.checked;
  document.querySelector('#background-input').disabled = rainbowChecked;
  document.querySelector('#background2-input').disabled = rainbowChecked;
});
document.querySelector('#customize-form').addEventListener('submit', (event) => {
  event.preventDefault();
  const text = document.querySelector('#text-input').value;
  const emoji = document.querySelector('#emoji-input').value;
  const color = document.querySelector('#color-input').value;
  const background = document.querySelector('#background-input').value;
  const background2 = document.querySelector('#background2-input').value;
  const title = document.querySelector('#title-input').value;
  const rainbow = document.querySelector('#rainbow-input').checked;
  const font = document.querySelector('#font-input').value;
  const url = `https://iakzs.is-a.dev/alettertoyou?text=${encodeURIComponent(text)}&emoji=${encodeURIComponent(emoji)}&color=${encodeURIComponent(color)}&background=${encodeURIComponent(background)}&background2=${encodeURIComponent(background2)}&title=${encodeURIComponent(title)}&israinbow=${encodeURIComponent(rainbow)}&font=${encodeURIComponent(font)}`;
  window.location.href = url;
});

  </script>
</body>
</html>
